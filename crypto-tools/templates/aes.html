{% extends "base.html" %}

{% block content %}
  <div>
    <h3 class="page-title center" style="margin-bottom: 0px">AES</h3>
  </div>
  <div class="row"></div>
 

<div class="row">
	<div class="card col s12">
    <div class="card-tabs">
      <ul class="tabs tabs-fixed-width">
        <li class="tab"><a href="#encrypt">Encrypt</a></li>
        <li class="tab"><a href="#decrypt">Decrypt</a></li>
        <li class="tab"><a href="#generate">Generate Key</a></li>
      </ul>
    </div>
    <div class="card-content">
      <div id="encrypt" class="row">
		<form class="" action="/aes/encrypt" method="POST">
    	  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">account_circle</i>
    	      <select id="mode" type="text" class="validate" name="mode" required>
				<option disabled selected></option>
				<option>CBC</option>
				<option>CTR</option>
				<option>OFB</option>
				<option>ECB</option>
			  </select>
    	      <label for="mode">Mode</label>
    	    </div>
    	  </div>
		  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">account_circle</i>
    	      <select id="bits" type="text" class="validate" name="bits" required>
				<option disabled selected></option>
				<option>128</option>
				<option>192</option>
				<option>256</option>
			  </select>
    	      <label for="bits">Bits</label>
    	    </div>
    	  </div>
      	  <div class="row">
      	    <div class="input-field col s6 offset-s3">
      	      <i class="material-icons prefix">vpn_key</i>
      	      <input id="key" type="text" class="validate" name="key" required>
      	      <label for="key">Key</label>
      	    </div>
      	  </div>
    	  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">email</i>
			  <textarea id="message" name="message" class="materialize-textarea"></textarea>
    	      <label for="message">Message</label>
    	    </div>
    	  </div>
    	  <div class="row">
    	    <div class="center">
    	      <button class="btn waves-effect waves-light" type="submit" name="action">Encrypt
    	          <i class="material-icons right">send</i>
    	      </button>
    	    </div>
    	  </div>
    	</form>
	  </div>

	  <div id="decrypt" class="row">
		<form class="" action="/aes/decrypt" method="POST">
    	  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">account_circle</i>
    	      <select id="mode" type="text" class="validate" name="mode" required>
				<option disabled selected></option>
				<option>CBC</option>
				<option>CTR</option>
				<option>OFB</option>
				<option>ECB</option>
			  </select>
    	      <label for="mode">Mode</label>
    	    </div>
    	  </div>
		  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">account_circle</i>
    	      <select id="bits" type="text" class="validate" name="bits" required>
				<option disabled selected></option>
				<option>128</option>
				<option>192</option>
				<option>256</option>
			  </select>
    	      <label for="bits">Bits</label>
    	    </div>
    	  </div>
      	  <div class="row">
      	    <div class="input-field col s6 offset-s3">
      	      <i class="material-icons prefix">vpn_key</i>
      	      <input id="key" type="text" class="validate" name="key" required>
      	      <label for="key">Key</label>
      	    </div>
      	  </div>
    	  <div class="row">
    	    <div class="input-field col s6 offset-s3">
    	      <i class="material-icons prefix">email</i>
			  <textarea id="ciphertext" name="message" class="materialize-textarea" required></textarea>
    	      <label for="ciphertext">Ciphertext</label>
    	    </div>
    	  </div>
    	  <div class="row">
    	    <div class="center">
    	      <button class="btn waves-effect waves-light" type="submit" name="action">Decrypt
    	          <i class="material-icons right">send</i>
    	      </button>
    	    </div>
    	  </div>
    	</form>
	  </div>

	  <div id="generate" class="row">
	  <form class="aes-generate" action="/aes/generate" method="POST">
		<div class="row">
		  <div class="input-field col s6 offset-s3">
			<i class="material-icons prefix">account_circle</i>
			<select id="bits" type="text" class="validate" name="bits" required>
			  <option disabled selected></option>
			  <option>128</option>
			  <option>192</option>
			  <option>256</option>
			</select>
			<label for="bits">Bits</label>
		  </div>
		</div>
		<div class="row">
		  <div class="center">
			<button class="btn waves-effect waves-light" type="submit" name="action">Generate Random Key
				<i class="material-icons right">send</i>
			</button>
		  </div>
		</div>
	  </form>
	</div> 
	<div class="divider"></div>
	<div class="row">
		<div class="input-field col s6 offset-s3">
		  <textarea disabled id="result" class="materialize-textarea"></textarea>
    	  <label for="result">Result</label>
    	</div>
	</div>

    </div>
  	</div>
	</div>
</div>
{% endblock %}


{% block scripts %}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
$('.tabs').tabs();
$('select').formSelect();

/*$('.aes-generate').submit(function(e) {
	//e.preventDefault();
	axios.post("/aes/generate", {
	  params: { 
			bits:  $('#bits').val()
		}
	}).done(function( msg ) {
		console.log(msg)
	    $('#result').val(msg);
	});
});*/
</script>
{% endblock %}
